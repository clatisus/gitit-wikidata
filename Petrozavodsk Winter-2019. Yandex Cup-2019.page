# Contest Info

date: 2019.03.29 14:33-19:33

[practice link](http://opentrains.snarknews.info/~ejudge/team.cgi?contest_id=001534)

# Solutions

## A. Takeover

**题目大意**：初始有一个点 $(0,0)$，和一个包含他的矩形，矩形左下角 $(0,0)$，右上角 $(1,1)$。平面上还有 $n$（$1\le n\le 3\cdot 10^5$）个点 $(x_i,y_i)$（$1\le x_i,y_i\le 10^9$）。让你定一个加点的顺序，使得相邻两次的矩形周长增量的最大值最小。

**题解**：设现在的矩形右上角为 $(a,b)$，我们将第一象限由 $x=a$ 和 $y=b$ 分成三部分。每一部分对周长的增量是同一个式子，我们维护最小值。每次贪心的找到最小增量即可。正确性证明：加一个点之后，每个点对周长的增量只会减少，假设有一个最小的最大增量，那么如果一个点在这次修改之前是可取的，那么修改不会改变“可取”这个性质（显然二分答案是没必要的）。

## C. Diverse Singing

**题目大意**：有 $n$ 个歌手和 $m$ 首歌，还有 $k$ 个节目。每个节目是 $p_i,s_i,l_i$ 表示歌手 $p_i$，歌曲 $s_i$，语言 $l_i$。让你从 $k$ 个节目中找一些子集，每位歌手都出演，每首歌也被唱过。每种语言最多被每首歌唱一次，也最多被每位歌手唱一次。

**题解**：上下界网络流。第一层 $n$ 位歌手，第二层 $(p_i,l_i)$ 的 pair，第三层 $(s_i,l_i)$ 的 pair，第四层 $m$ 首歌。源向第一层连下界为 $1$ 的边，第四层向汇连下界为 $1$ 的边。第一层连第二层上界为 $1$ 的边，第三层连第四层上界为 $1$ 的边。第二层到第三层没限制。

## H. Jeopardy

**题目大意**：给出一个 $n\times n$（$1\le n\le 500$）的矩阵，每个位置有一个数字。两个人玩 $n-1$ 轮游戏，先手每次删掉一行，后手每次删掉一列。先手想最大化最后剩下的数字，后手想最小化它。求这个数字。

## I. Slippers

**题目大意**：在一个 $n\times m$（$1\le n, m\le 100$）的棋盘中，每个位置是一只拖鞋，拖鞋的第一个属性是 `LR`，第二个属性是 `^>v<`。每次操作可以选择相邻的两只拖鞋，一只逆时针转 $90^{\circ}$，另一只顺时针转 $90^{\circ}$。让你做若干次操作，使得棋盘中成对的拖鞋（每只拖鞋只能用一次）总数最多。成对的拖鞋意味着，相邻的两个位置分别是 `L` 和 `R`，并且朝向均为左 `L` 右 `R` 时的前方。

**题解**：设 `^>v<` 分别为 $0,1,2,3$，那么操作不改变棋盘和（$\bmod 4$）。我们对 `L` 和 `R` 求二分图匹配，如果没有匹配完所有的棋盘（有剩余的位置），那么我们一定能利用这个剩余的位置来对别的位置进行操作，使得匹配都能贡献答案。这个时候答案就是匹配数。

如果匹配完了所有的棋盘，我们猜想如果棋盘和（$\bmod 4$）满足条件，那么答案也是匹配数。否则我们一定要拆开一对拖鞋，答案是匹配数减去 $1$。

证明：（1）棋盘和（$\bmod 4$）相同的局面是可以互相到达的，我们考虑将棋盘的点按照到左上角的曼哈顿距离分组，那么就是若干条形如 `/` 的对角线，我们可以用上一层的点来任意改变下一层的点，最后只剩下左上角。（2）不同完备匹配的棋盘和（$\bmod 4$）是一样的。考虑一个完备匹配的交错路，它只能是一个环（否则就有未盖点，矛盾）。那么对应到棋盘中，也就是走 `L` 和 `R` 的交错环。考虑每一个 `R`，它每转 $90^{\circ}$，那么贡献加 $1$，对 `L` 同理，所以交错环上的匹配交换的时候，总的棋盘和不变。$\Box$