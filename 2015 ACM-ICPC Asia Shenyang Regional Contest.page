# Contest Info

date: 2018.10.17 12:40-15:40

[practice link](https://cn.vjudge.net/contest/262879)

# Solutions

## E. Efficient Tree 

**题目大意**：

$n\times m$的完全网格图，边带权，求最小生成树的权值和是多少，定义生成树的$\tau(T)$为每个点与它左边和上边格子连边的数量加一的累乘，求所有最小生成树的$\tau(T)$和。

$n\le800,m\le7$.

**题解**：

轮廓线`dp`，逐格转移，记录最后$m$格的状态，转移时保证不存在环以及不会不连通。

## I. Triple

**题目大意**：

有大小为$n\le10^5$的二元组`multiset`$A=\{(a_1,b_1),\cdots,(a_n,b_n)\}$.

和大小为$m\le10^5$的三元组`multiset`$B=\{(c_1,d_1,e_1),\cdots,(c_n,d_n,e_n)\}$.

定义`multiset`$C=\{(a,c,d)|(a,b)\in A,(c,d,e)\in B, b=e\}$

求$C$中有多少个三元组$(a,b,c)$满足不存在$(u,v,w)\in C, (u,v,w)\not = (a,b,c)$且$a\le u,b\le v, c\le w$.

**题解**：

$A$中对于每一个$b$，只保留$a$最大的，这样剩下的就只有$O(m)$个三元组，判断每一个是不是即可。

$a$这一维排序，$c$，$d$二维树状数组维护。

时间复杂度$O((n+m)(\log{n}+\log{c}\log{d}))$.