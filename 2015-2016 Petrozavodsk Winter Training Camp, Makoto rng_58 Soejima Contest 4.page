# Contest Info

date: 2017.10.04 13:15-18:15

[practice link](http://codeforces.com/gym/100959/)

# Solutions

## M. Team Competition

**题目大意**：给 $n(n\leq 1000)$ 个人安排训练计划。要求如下：

- 天数 $t\in [1, n^2]$ 
- 每天恰好有三个不同的人参加训练
- 令 $f(p,q)$ 表示编号为 $p$ 和编号为 $q$ 的人一起训练的天数，要求对 $\forall p,q$ 有 $f(p,q)$ 相等

**题解**：当 $n$ 为奇数的时候，我们将 $n$ 个人放在一个环上。枚举所有的等腰三角形，我们会得到 $n \choose 2$ 天的训练计划。容易发现，对 $\forall p,q$ 有 $f(p,q)\equiv 3$ ，显然每对 $(p,q)$ 会作为等腰三角形的腰 $2$ 次，底 $1$ 次。

当 $n$ 为偶数的时候，情况稍微复杂一点。我们先将 $n-1$ 个人按照上述方案安排训练。但是我们还需要给第 $n$ 个人安排训练，显然最后的 $f(p,q)>3$ ，再注意到现在使用的天数只有 $n-1 \choose 2$ ，所以我们可以猜想最后 $f(p,q)\equiv 6$ 。

这样分析之后，我们可以选择将长度（横跨的边的数量）为 $1,2$ 的边再使用几次。我们将 $n,i,i+1 (1\leq i < n)$ 这个三角形训练两次，将 $n,i,i+2(1\leq i<n)$ 这个三角形训练一次。现在对于每条新加的边，它的 $f$ 为 $6$ 。对于之前已有的长度为 $1$ 的边，$f$ 增加了 $2$；对于之前已有的长度为 $2$ 的边，$f$ 增加了 $1$ 。现在我们还需要将长度为 $1$ 的边 $f$ 增加 $1$ ，将长度为 $2$ 的边 $f$ 增加 $2$ ，以及将其他长度的边 $f$ 增加 $3$ 。要做到这一点，我们只需要枚举所有腰长度大于等于 $2$ 的等腰三角形即可。这样，长度为 $2$ 的边会作为腰两次，而不会作为底出现。长度为 $1$ 的边会作为底一次。