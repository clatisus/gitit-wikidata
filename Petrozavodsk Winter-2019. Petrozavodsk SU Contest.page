# Contest Info

date: 2019.05.22 16:42-21:42

[practice link](http://opentrains.snarknews.info/~ejudge/team.cgi?contest_id=001538)

# Solutions

## B. Word Squared

**题目大意**：给出一个$1\cdots n$的排列，构造一个最小的$m\times m$矩阵，满足每一行每一列都至少存在一个连续子串是该排列。$n\le 500$.

**题解**：将该排列复制一份接在后面，然后$2n-2$次`rotate`一位得到下一行，最后去掉第$2n$列即可。

## D. Game X

**题目大意**：问所有满足如下条件的$2\le n\le10^9$个数字中，最多有多少对无序的二元组是同符号的：

- 不存在两个数字的绝对值相同
- 不存在等于零的数字
- 和大于$0$的无序的二元组恰好有$0\le k\le10^{18}$个

无解输出$-1$.

**题解**：有解当且仅当$\displaystyle\frac{n(n-1)}{2}\ge k$.

显然构成$k$的二元组，一部分是正数内部产生的，另一部分是正数与负数产生的，显然可以通过调整，让每一个负数与任意个正数产生贡献。

设正数有$0\le x\le n$个，则可以产生的和大于$0$的无序的二元组最少为$\displaystyle\frac{x(x-1)}{2}$个，最多为$\displaystyle\frac{x(x-1)}{2} + x(n-x)$个，即$\displaystyle\frac{x(x-1)}{2}\le k\le\frac{x(x-1)}{2} + x(n-x)$。可以解出$x$的范围来。

要最大化$\displaystyle\frac{x(x-1)}{2}+\frac{(n-x)(n-x-1)}{2}$，化简后发现是个$A>0$的二次函数，直接输出两个端点处的较大值即可。

## F. Nightmare

**题目大意**：经过一些处理后题目简化为：平面上有一个长方形，沿平行与其某一条边的方向移动。平面上还有$n\le50$个凸多边形，当长方形的某一个顶点第一次进入多边形内部时被认为发生了一次碰撞，求第$k+1$次碰撞发生时长方形移动了多远，或判定不会发生这么多次碰撞。

**题解**：就按题意暴力就完了。