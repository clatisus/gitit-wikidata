# Contest Info

date: 2019.03.10 13:15-18:15

[practice link](http://opentrains.snarknews.info/~ejudge/team.cgi?contest_id=001513)

# Solutions

## A. Mines

**题目大意**：一维数轴上有$n\le2\times10^5$个雷。第$i$个雷在位置$p_i$。花费$c_i$的代价可以引爆第$i$个雷，并将$[p_i-r_i,p_i+r_i]$范围的雷全部引爆，引起连锁反应，而不需要额外的代价。现在有$Q\le2\times10^5$次修改，每次修改一个雷的花费，然后询问使得所有雷爆炸的最小花费是多少。

**题解**：建一棵线段树，每个父亲节点向左右儿子分别连一条有向边。然后枚举每一个雷，从$p_i$所在的叶子节点，向$[p_i-r_i,p_i+r_i]$对应的节点连边，`tarjan`求一次`scc`。删掉所有可以从别的含有叶子节点的`scc`到达的`scc`，剩下的每个包含叶子的`scc`的最小值之和就是答案。修改可以每个`scc`维护一个`std::multiset`。时间复杂度$O(n\log{n})$.

## B. Balls

签到题。

## C. Flip a Coin

**题目大意**：有两个人，他们分别拥有 $0-1$ 串 $s$ 和 $t$。现在不停地掷一枚均匀的硬币，正面为 $1$，反面为 $0$。如果某一时刻硬币组成的串中包含 $x$，那么第一个人赢；如果包含 $y$，那么第二个人赢；如果同时包含 $x,y$，那么平局。问这三种情况的概率。

**题解**：用两维分别记录 $s$ 和 $t$ 的 `fail`，高消即可。注意我们的状态的实际含义是**该状态出现次数的期望**，如果把它解释成出现的概率，个人感觉在概率论上是说不通的。由于终止状态只能出现 $0$ 或 $1$ 次，因此它出现次数的期望就是它出现的概率。 

时间复杂度 $\mathcal{O}((|s||t|)^{ 3})$。