# Contest Info

date: 2018.05.27 09:00-14:15

[practice link](http://poj.openjudge.cn/campus2018/)

# Solutions
## J Fermat's Christmas Theorem?

**题目大意**：求 $x^{2}+y^{2}\equiv d\pmod N$ 满足 $0\le x,y<N$ 的解的数量。

**题解**：首先注意到，根据中国剩余定理，我们可以将 $N$ 质因数分解后，对每种质因子分别求出答案再乘起来即可。做法为打表找规律+分类讨论。

- $p=2$ 时
    - 若 $d\equiv 0\pmod{p^{t}}$ 或 $d\equiv p^{t-1}\pmod{p^{t}}$，答案为 $p^{t}$
    - 否则设 $d’$ 为 $d$ 除 $p$ 以外的质因子的乘积
        - 若 $d'\equiv 1\pmod 4$，答案为 $p^{t+1}$
        - 若 $d'\equiv 3\pmod 4$，答案为 $0$
- $p\equiv 1\pmod 4$ 时
    - 若 $d\equiv 0\pmod {p^{t}}$，答案为 $p^{t}+t\varphi(p^{t})$
    - 否则设 $d’$ 为 $d$ 除 $p$ 以外的质因子的乘积，设 $d=d'\cdot p^{s}$，答案为 $(s+1)\varphi(p^{t})$
- $p\equiv 3\pmod 4$ 时
    - 若 $d\equiv 0\pmod{p^{t}}$，答案为 $p^{2\lfloor\frac{t}{2}\rfloor}$
    - 否则设 $d’$ 为 $d$ 除 $p$ 以外的质因子的乘积，设 $d=d'\cdot p^{s}$
        - 若 $s\equiv 1\pmod 2$，答案为 $0$
        - 否则答案为 $(p+1)p^{t-1}$

（证明待续）

## K Digital Display for Anniversary

**题目大意**：有 $90$ 个数码管，给定初态和终态，给出 $5$ 种操作：

- 熄灭一个亮着的数码管
- 点亮一个熄灭的数码管
- 熄灭两个亮着的数码管
- 点亮两个熄灭的数码管
- 熄灭一个亮着的数码管，同时点亮另一个熄灭的数码管

问进行 $T$ 次操作**第一次**达到终态的操作序列有多少种。

**题解**：本题关键的性质是：$1\sim2$ 和 $3\sim5$ 号操作分别相当于改变一个数码管的状态和改变两个数码管的状态。设 $dp[i][j]$ 表示 $i$ 次操作后和终态相同的数码管有 $j$ 个的方案数，答案即为 $dp[T-1][1]+dp[T-1][2]$，矩阵转移即可。注意预处理 $A^{2^{k}}$ 以降低复杂度。

# Replay and Summary

## Replay

菜