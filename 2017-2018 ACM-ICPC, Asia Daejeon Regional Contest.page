# Contest Info

date: 2018.01.27 14:30-19:30

[practice link](http://codeforces.com/gym/101667/)

# Solutions

## D. Happy Number

签到题。

## F. Philosopher’s Walk

签到题，按题目描述递归计算即可。


## G. Rectilinear Regions

**题目大意**：有两段左右无限延伸的楼梯（由水平线和竖直线组成） $L$ 和 $U$，它们可能相交在一起形成一些闭合区域，求其中以 $L$ 为底，$U$ 为顶的闭合区域的个数及它们的面积之和。

**题解**：以两段楼梯的所有竖线所在直线为扫描线，从左到右扫描。

求区域的个数：记录当前是否在合法的区域中。扫描过程中，判断 $L,U$ 是否相交（交于点或者线段）。如果不相交，那么什么都不发生。否则，若当前在一个合法区域中，表明这个区域已经结束，计数器加 $1$；若在这条扫描线后满足 $y_{U}>y_{L}$ ，表明一个新的合法区域开始。

求面积之和：要求区域闭合，那么合法区域一定在 $L,U$ 相交的最左、最右交点之间。我们枚举这之间所有相邻的两条扫描线，判断是否满足以 $L$ 为底，以 $U$ 为顶即可。

复杂度 $\mathcal{O}((n+m)\log(n+m))$。
