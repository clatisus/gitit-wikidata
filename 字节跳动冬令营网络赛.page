# Contest Info

date: 2018.12.01 13:00-18:00

[practice link](https://ac.nowcoder.com/acm/contest/296#question)

# Solutions

## D. The Easiest One

**题目大意**：定义 $f(x,y)$ 表示使用如下两种操作将 $x$ 变成 $y$ 的最小操作次数：将 $x$ 自减 $1$，或者将 $x$ 的某个为 $1$ 的二进制位置零。求 $\sum_{i=0}^{n}\sum_{j=0}^{i}f(i,j)$。

**题解**：假如 $x\text{&}y=y$，那么 $f(x,y)$ 显然等于 $\text{bitcount}(x\oplus y)$。否则我们设第 $i$ 位前面的部分 $x$ 比 $y$ 大，后面的部分 $x$ 比 $y$ 小，那么显然我们要把后面的部分清零，然后减 $1$，这时显然 $x\text{&}y=y$。

之后我们开始数位 $dp$。设 $dp[i][0/1][j][0/1][0/1]$ 表示 $dp$ 到第 $i$ 位，$x$ 是否已经大于 $y$，在最后一个 $x$ 大于 $y$ 后 $x$ 和 $y$ 有多少个位相等，$x$ 的前 $i$ 位是否和 $n$ 相同，若 $x$ 已经大于 $y$，在后面的位中 $y$ 是否已经大于 $x$ 的方案数。转移太恶心不想写了。

时间复杂度 $\mathcal{O}(n^{2})$。