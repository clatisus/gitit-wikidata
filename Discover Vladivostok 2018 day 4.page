# Solution

## A. Broken Audio Signal

签到题。

## C. SIRO Challenge

**题目大意**：

有一个$n\le300$个点，$m\le5000$条边的无向连通图，其中有$l\le16$个关键点，第$i$个关键点有一家拉面馆，在这里吃一碗拉面需要花费$e_i$的时间，现在要从$s$点出发（$s$不是关键点），在$t$秒内回到$s$点，问最多可以品尝多少不同拉面馆的拉面。

**题解**：

先`floyd`求出任意两点之间的最短路径，再状压`dp`品尝了哪些拉面即可。

## G. Floating Islands

**题目大意**：

有一个$n\le4000$的无向完全图，每个点有一个坐标$p_i$，任意两点之间的边的长度为$|p_i-p_j|$，给每个点一个度数限制$1\le d_i \le n$，求每个点不超过度数限制的最小生成树，无解输出`-1`。

**题解**：

将点分为$d_i>1​$和$d_i=1​$两种，对于$d_i>1$的点，显然不能依靠$d_i=1$的点来连通，这一部分最优的连边方式为按$p_i$大小串成一条链。

接着考虑将$d_i=1$的点挂到链上，注意到一定是按$p_i$的顺序往上挂，否则交换两个一定不会更差。

令$dp[i][j]$表示链上前$i$个点一共挂了$j$个点的最优值，可以滑动窗口优化到$O(n^2)$.

## I. Overwriting Game

**题目大意**：

有一个$h\times w$（$1\le h,w\le5$）的网格，每个格子为黑色或者白色。

每次操作随机选择一个点$(i,j)$和一个颜色$c$，将$(1,1)$到$(i,j)$的子矩阵都染色成$c$，花费代价为$i\times j$.

给定初始局面与目标局面，求期望代价和为多少。

**题解**：

对于一个中间局面，如果点$(i,j)$的颜色与目标局面不同，那么$(1,1)$到$(i,j)$子矩阵中其它格子的颜色都无关紧要，因为要变成目标局面必须要先重新染色。

搜出所有这些重要的不同位置的轮廓线，对于$5\times5$时，$maxS=252$.

用这些状态进行高斯消元即可。

搜索状态的时候可以搜关于行的单调递减数列。
