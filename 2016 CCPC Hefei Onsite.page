# Contest Info

date: 2017.10.11 13:15-18:15

[practice link](https://cn.vjudge.net/contest/261031)

# Solutions

## A. 传递

**题目大意**：把竞赛图 $G=(V,E)$ 的 $E$ 划分为 $E_p,E_e$，问图 $P=(V,E_p),Q=(V,E_e)$ 是否同时为传递闭包。

**题解**：如果原图存在单向三元环，那么一定不同时为传递闭包。因为 $a\rightarrow b\rightarrow c\rightarrow a$ 如果三条边全在 $E_p$ 中，那么 $P$ 不是传递闭包。不妨假设有两条边在 $E_p$ 中，$P$ 也不是传递闭包，此时另一条边（在 $E_e$ 中）的朝向其实无所谓。所以我们只需要判断 $(V,E_p\cup E_e)$ 和 $(V,E_p\cup \displaystyle E_e')$ 是否存在单向三元环即可。竞赛图中，如果有 SCC 那么就一定存在单向三元环，我们只需要对两个图尝试做拓扑排序即可。

## G. 小R与手机 

**题目大意**：$n$个点，每个点有一个后继或者没有。$m$次操作，或者修改一个点的后继，或者询问从一个点沿着后继链走会结束在哪个点，永远不会结束输出-1.

**题解**：模板题，lct不换根维护基环树

# Dirt Replay

D: `-3` 输入太慢；式子推错了（没验证 n=1）；四舍五入用 int。。。。

E: `-1` 没清空数组，builtin popcount太慢

G: `-3` D 不相信自己的模版，瞎改