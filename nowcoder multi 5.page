# Contest Info

date: 2018.08.02 12:00-17:00

[practice link](https://www.nowcoder.com/acm/contest/143#question)

# Solutions

# Dirt Replay

## D. inv

**题目大意**：

给出一个$1$到$n$的全部偶数的排列，现在要将它和一个由$1$到$n$所有奇数组成的单调数列归并起来，最小化归并后数列的逆序对数。

**题解**：

偶数内部的逆序对数是一定的，考虑将奇数依次插入到偶数的$\frac{n}{2} + 1$个空中去。

用线段树维护每个空位会产生的逆序对数，当做完一个奇数之后会对一个前缀$+1$，对一个后缀$-1$，因此一定存在一个最优的放法使得插的空位是单调不减的。

因此直接每个奇数贪心取产生逆序对数最小的位置即可。

## H. subseq

**题目大意**：

给定一个长度为$n$的整数数列$a_n$，求字典序第$k$小的下标集合$b$，使得$a_{b_1}$,$\cdots$,$a_{b_m}$是严格单调上升序列。

**题解**：

从后往前`dp`求出以位置$i$开头的单调上升序列数量，然后从前往后确定每一位，注意不能枚举到不单调上升的，以及数量爆`long long`可以与`inf`取`min`避免。