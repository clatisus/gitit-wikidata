# Contest Info

date: 2018.08.27 12:00-17:00

[practice link](https://cn.vjudge.net/contest/248766#rank)

# Solutions

## D. Making Perimeter of the Convex Hull Shortest

**题目大意**：

二维平面上有$n\le10^5$个整点，要求去掉两个点，使得剩下的点的凸包周长最短。

**题解**：

先$O(n\log{n})$求出$n$个点的凸包，最优解至少要删一个凸包上的点。

取凸包内部一点$O$，将这$n$个点关于点$O$极角排序。

如果删除凸包上逆时针序第$i$个点，那么需要重新`check`极角序在第$i-1$个点到第$i+1$个点之间的所有点。

这一部分`check`最多进行$2n$次，即可以$O(n)$求出删掉一个凸包上的点后新增的点和周长的差值。

删除的第二个点可能是新增的点之一，那么同理我们枚举删去一个新增的点，计算新的凸包也可以在总共$O(n)$的时间内完成。

其它情况还有：删除的两个点是原凸包上相邻的顶点，删除的两个点是原凸包上不相邻的顶点。

如果删除两个相邻的顶点$i$和$i+1$，我们需要重新`check`极角序在第$i-1$个点到第$i+2$个点之间的所有点。

这一部分的`check`总共不超过$3n$次，可以$O(n)$完成。

最后如果删除的两个点是原凸包上不相邻的顶点，我们找出删除后周长最优的$4$个点，这种情况的最优值一定由其中不相邻的两个点产生。

这样这题就做完了，时间复杂度$O(n\log{n})$.

## G. Rendezvous on a Tetrahedron

**题目大意**：有一个正四面体，两只虫子在上面沿直线爬行，爬过正四面体的边时它与边的夹角不变。给出它们爬行的方向和距离，问它们最后是否在一个面上。

**题解**：按照套路把正四面体展开，密铺到整个平面上，然后在平面上走一条线段即可。在计算虫子所处的平面时，可以将坐标系按照 $(1,0)$ 和 $(\frac{1}{2},\frac{\sqrt{3}}{2})$ 分解，这样所有的等边三角形会变为等腰直角三角形，处理起来就非常方便了。

## J. String Puzzle

**题目大意**：有一个长度为 $n(n\le10^{9})$ 的串，有一些位置已经给出，另外还有一些等价关系，以如下格式给出：给出长度为 $b$ 的两个数列 $y_{i}$ 和 $h_{i}$，其中 $0\le h_{i}<y_{i}$，$2\le y_{1}<y_{2}<\cdots<y_{b}\le n$。若 $h_{i}$ 大于 $0$，那么该串 $[y_{i},y_{i+1}-1]$ 和 $[h_{i},h_{i}+y_{i+1}-y_{i}-1]$ 的位置对应相等；若 $h_{i}=0$，那么 $y_{i}$ 只是用来给 $y_{i-1}$ 提供结束位置信息。然后给出 $q$ 个询问，询问某个位置是否已经确定，如果确定，该位置的字符是什么。

**题解**：显然我们要维护一些联通块，但是 $n$ 太大，不能暴力去做。注意到在题目的输入下，每个点至多往它左边的一个点连一条边，也就是说，输入的图是一个森林。因此对于某一个点，我们只要贪心地往左跳，就能跳到它所在树的根。

# Dirt Replay

F: `-1` 错算法

H: `-1` 错算法

I: `-1` 错算法（少读了条件）