# 博弈论

## 威佐夫游戏
有两堆石子，两人轮流取，每次可以从一堆中取若干颗石子，也可以从两堆中取一样多的石子。负态为$\{\lfloor k\cdot\frac{1+\sqrt{5}}{2}\rfloor, k+\lfloor k\cdot\frac{1+\sqrt{5}}{2}\rfloor\}(k = 0,1,2,\cdots)$

## Nim 积
$a\otimes b=\text{mex}\{a'\otimes b\oplus a\otimes b'\oplus a'\otimes b'|0\le a'<a,0\le b'<b\}$ 满足交换律，结合律，对 nim 和（异或）满足分配律。全体非负整数在 nim 和和 nim 积下成一域。Tartan Games（即二维硬币游戏）的 $sg$ 值是对应行列的 nim 积。

nim积还具有如下的性质：

- 对全体自然数 $n$ ， $[0,2^{2^{n}}-1]$ 中的自然数在 nim 和和 nim 积下成一域
- 对全体自然数 $n$ ， $2^{2^{n}}\otimes x=2^{2^{n}}\times x(0\le x<2^{2^{n}})$
- 对全体自然数 $n$ ， $2^{2^{n}}\otimes 2^{2^{n}}=\frac{3}{2}\cdot2^{2^{n}}=2^{2^{n}}\oplus2^{2^{n}-1}$

# 数学分析

## Wallis公式

$$\frac{\pi}{2} = \lim_{n \to +\infty}\frac{[\frac{(2n)!!}{(2n-1)!!}]^{2}}{2n+1}$$

## Stirling公式

$$n!\sim\sqrt{2\pi n}(\frac{n}{e})^{n}$$

## n维球

$n$维球的体积公式：$\displaystyle{\frac{\pi^{\frac{n}{2}}}{\Gamma(\frac{n}{2}+1)}r^{n}}$

$n$维球的表面积公式：$\displaystyle{\frac{2\pi^{\frac{n}{2}}}{\Gamma(\frac{n}{2})}r^{n-1}=V_{n}'(r)}$

其中伽马函数 $\Gamma(z)=\int_{0}^{\infty}x^{z-1}e^{-x}\mathbb{d}x$ ，满足

 - $\Gamma(1)=1,\Gamma(z+1)=z\Gamma(z)(z>0)$
 - $\Gamma(1-z)\Gamma(z)=\frac{\pi}{\sin(\pi z)}(z\notin\mathbb{Z})$
 - $\Gamma(z)\Gamma(z+\frac{1}{2})=2^{1-2z}\sqrt{\pi}\Gamma(2z)$
 - $\Gamma(\frac{1}{2})=\sqrt{\pi}$

# 组合数学

## 划分数
设 $p(n)$ 为将 $n$ 写成若干个正整数和的方案数，若 $i$ 为自然数，称 $\frac{3i^{2}-i}{2}$ 和 $\frac{3i^{2}+i}{2}$ 为广义五边形数，并定义 $f(\frac{3i^{2}-i}{2}) = f(\frac{3i^{2}+i}{2}) = i$ ，则 $p(n) = \sum_{u,1 \le u \le n}(-1)^{f(u) - 1}p(n-u)$ ，其中 $u$ 为广义五边形数。$\phi(x)=\frac{1}{\prod_{i=1}^{\infty}(1-x^{i})}$ 称为欧拉函数，它是划分数生成函数的逆。 $\phi(x) = \sum_{u}(-1)^{f(u)}x^{u}$ ，其中 $u$ 为广义五边形数。从 $0$ 开始， $p(n)$ 的前若干项为 $1,1,2,3,5,7,11,15,22,30,42,56,77$ 。

## 模2意义下的组合数
${n\choose m}\% 2=!(m\And(\sim n))$ 。由此易知， ${n\choose m}\% 2=1$ ，当且仅当  $n$ 在 $m$ 为 $1$ 的二进制位上也都为 $1$ 。易知， ${n+m\choose m}\% 2=1$ ，当且仅当  $n$ 在 $m$ 为 $1$ 的二进制位上都为 $0$ 。

## 默慈金数
设 $M_{n}$ 表示在一个圆上的 $n$ 个不同点间，画出彼此不相交的弦的全部方法的总数。 $M_{0} = M_{1} = 1, M_{n + 1} = M_{n}+\sum_{i=0}^{n-1}M_{i}M_{n-i-1} = \frac{2n+3}{n+3}M_{n}+\frac{3n}{n+3}M_{n-1}$ 。它也可以表示数列 $\{a_{i}\}(0 \le i \le n)$ 的数量，满足： $a_{0} = a_{n} = 0, a_{i} \ge 0, |a_{i}-a_{i + 1}| \le 1$ 。从 $0$ 开始， $M_{n}$ 的前若干项为

$$
\begin{aligned}
&1,1,2,4,9,21,51,127,323,835,2188,5798,15511,41835,113634,310572,853467,2356779,6536382,18199284,50852019,142547559,\\
&400763223,1129760415,3192727797,9043402501,25669818476,73007772802,208023278209,593742784829
\end{aligned}
$$

## 卡特兰数
设 $C_{0}=1,C_{n}=\sum_{i=0}^{n-1}C_{i}C_{n-i-1}$ ，它满足 $C_{n} = \frac{C_{2n}^{n}}{n+1}$ ，它可以表示：

 - $n$ 对括号组成的合法的表达式种数
 - $n$ 个结点不同构二叉树的方案数
 - $n \times n$ 格点中不越过对角线的单调路径的个数。单调路径是指从左下角走到右上角，每步向右或向上。
 - 通过连接顶点将 $n+2$ 条边的凸多边形分成三角形的方案数
 - 以 $\{1, 2, \cdots, n\}$ 为进栈序列的合法出栈序列个数
 - 集合 $\{1, 2, \cdots, n\}$ 的不交叉划分的个数
 - 用 $n$ 个长方形填充一个高度为 $n$ 的阶梯状图形的方法个数

从 $0$ 开始， $C_{n}$ 的前若干项为

$$
\begin{aligned}
&1,1,2,5,14,42,132,429,1430,4862,16796,58786,208012,742900,2674440,\\
&9694845,35357670,129644790,477638700,1767263190
\end{aligned}
$$
 
## 伯努利数
$B_{0} = 1, B_{i}=1-\sum_{j = 0}^{i-1}C_{i}^{j}\frac{B_{j}}{i-j+1}.$ 伯努利数的指数型母函数是 $\frac{x}{e^{x}-1}.$ 伯努利数可用于计算等幂和：$\sum_{k = 1}^{n}k^{m} = \frac{1}{m+1}\sum_{k=0}^{m}C_{m+1}^{k}B_{k}n^{m+1-k}.$ 从 $0$ 开始，$B_{n}$ 的前若干项为 $1,\frac{1}{2},\frac{1}{6},0,-\frac{1}{30},0,\frac{1}{42},0,-\frac{1}{30}$

## 上升阶乘幂和下降阶乘幂
$(x)^{(n)}=x(x+1)(x+2)\cdots(x+n-1)$ 称为上升阶乘幂， $(x)_{n}=x(x-1)(x-2)\cdots(x-n+1)$ 称为下降阶乘幂。 满足：

- $(a+b)^{(n)}=\sum_{i=0}^{n}{n\choose i}(a)^{(n-j)}(b)^{(j)}$
- $(a+b)_{n}=\sum_{i=0}^{n}{n\choose i}(a)_{n-j}(b)_{j}$
- $(x)_{m}(x)_{n}=\sum_{k=0}^{m}{m\choose k}{n\choose k}k!(x)_{m+n-k}$

## 斯特林数
### 第一类斯特林数
$|s(n,k)|$ 表示 $n$ 个元素的置换中能被分解为 $k$ 个循环的置换个数。 $s(n,k)=(-1)^{n-k}|s(n,k)|,s(0,0)=1,s(n,0)=s(0,n)=0$ ，满足

- $s(n+1,k)=s(n,k-1)-ns(n,k)$
- $(x)^{(n)}=\sum_{k=0}^{n}|s(n,k)|x^{k}$
- $(x)_{n}=\sum_{k=0}^{n}s(n,k)x^{k}$

### 第二类斯特林数
$S(n,k)$ 表示有 $n$ 个元素的集合划分为 $k$ 个集合的方案数。 $S(0,0)=1,S(n,0)=S(0,n)=0$ ，满足

- $S(n,k)=kS(n-1,k)+S(n-1,k-1)$
- $S(n,k)=\frac{1}{k!}\sum_{i=0}^{k}(-1)^{i}{k\choose i}(k-i)^{n}$

## Burnside 引理
设 $G$ 是 $N={1, 2, \cdots, n}$ 上的置换群， $G$ 在 $N$ 上可引出不同的等价类，其不同的等价类的个数为 $l=\frac{1}{|G|}(c_{1}(a_{1})+c_{1}(a_{2})+\cdots+c_{1}(a_{g}))$ ，其中 $c_{1}(a_{i})$ 表示置换 $a_{i}$ 中一阶循环的个数

## Polya 定理
设 $\bar{G}$ 是 $n$ 个对象的一个置换群，用 $m$ 种颜色涂染这 $n$ 个对象，则不同染色的方案数为 $l=\frac{1}{|\bar{G}|}(m^{c(\bar{a_{1}})}+m^{c(\bar{a_{2}})}+\cdots+m^{c(\bar{a_{g}})})$ ，其中 $c(\bar{a_{i}})$ 表示置换 $\bar{a_{i}}$ 的循环节数。

## 切比雪夫多项式
第一类切比雪夫多项式为 $T_{n}(\cos x)=\cos nx$ ，满足 $[x^{m}]T_{n}=(-1)^{\frac{n-m}{2}}\frac{n}{m}{\frac{n+m}{2}-1\choose m-1}2^{m-1}$ 。第二类切比雪夫多项式为 $U_{n}(\cos x)=\frac{\sin(n+1)x}{\sin x}$ ，满足 $[x^{m}]U_{n}=(-1)^{\frac{n-m}{2}}{\frac{n+m}{2}\choose \frac{n-m}{2}}2^{m}$ 。

## 其它
$\sum{n\choose2k}{k\choose m}=\frac{n}{n-m}{n-m\choose n-2m}2^{n-2m-1}$

# 数论
## 连分数与佩尔方程
记 $<x_{0},x_{1},x_{2},x_{3},\cdots> = x_{0}+\frac{1}{x_{1}+\frac{1}{x_{2}+\frac{1}{x_{3}+\cdots}}}$ ，其中 $x_{i}>0(i\ge1)$ 。称 $\frac{p_{n}}{q_n}=<x_{0},x_{1},\cdots,x_{n}>$ 为它的第 $n$ 个渐近分数。补充定义 $p_{-1}=1,q_{-1}=0$ ，则有递推式 $p_{n}=x_{n}p_{n-1}+p_{n-2},q_{n}=x_{n}q_{n-1}+q_{n-2}(n\ge1)$ 。对无限简单连分数，我们称 $\xi_{n}=<x_{n},x_{n+1},\cdots>$ 为它的第 $n$ 个完全商，满足 $\xi_{0}=\frac{p_{n}\xi_{n+1}+p_{n-1}}{q_{n}\xi_{n+1}+q_{n-1}}$。一个实数是二次根式当且仅当它是循环简单连分数，我们用 $<x_{0},\cdots,x_{m_{0}-1},<\overline{x_{m_{0}},\cdots,x_{m_{0}+l-1}}>>$ ，其中 $l$ 是 $\xi_{0}$ 的周期。设 $\xi_{0}=\frac{\sqrt{d}+c_{0}}{r_{0}},q_{0}|d-c^{2}_{0}$ ，我们有 $\xi_{n}=\frac{\sqrt{d}+c_{n}}{r_{n}}$ ，其中 $r_{n+1}=r_{n-1}+\frac{c_{n}^{2}-c_{n+1}^{2}}{r_{n}}=r_{n-1}+(c_{n}-c_{n+1})x_{n}$,$c_{n+1}=x_{n}r_{n}-c_{n}$,$a_{n}=\lfloor\xi_{n}\rfloor(n\ge1)$ 。

我们给出两个不定方程： $x-dy^{2}=1$ 和 $x-dy^{2}=-1$ ，若 $d$ 为完全平方数，则第一个方程只有解 $(\pm1,0)$ ，第二个方程无解。若 $d$ 不为完全平方数，设 $\xi_{0}=\sqrt{d}$ ，设它的循环连分数周期为 $l$ ，渐近分数为 $\frac{p_{n}}{q_{n}}$ ，则：

- 当 $l$ 为偶数时，第一个方程的全体正解为 $x=p_{jl-1},y=q_{jl-1},j=1,2,3,\cdots$ ，第二个方程无解
- 当 $l$ 为奇数时，第一个方程的全体正解为 $x=p_{jl-1},y=q_{jl-1},j=2,4,6,\cdots$ ，第二个方程的全体正解为 $x=p_{jl-1},y=q_{jl-1},j=1,3,5,\cdots$

还有另一种更加简单的表示方法：

- 当 $l$ 为偶数时，第一个方程的全体解为 $x+y\sqrt{d}=\pm(p_{l-1}\pm q_{l-1}\sqrt{d})^{j},j=0,1,2,\cdots$ ，第二个方程无解
- 当 $l$ 为奇数时，第一个方程的全体正解为 $x+y\sqrt{d}=\pm(p_{l-1}\pm q_{l-1}\sqrt{d})^{j},j=0,2,4,\cdots$ ，第二个方程的全体正解为 $x+y\sqrt{d}=\pm(p_{l-1}\pm q_{l-1}\sqrt{d})^{j},j=1,3,5,\cdots$


# 抽象代数
## 有限群中元素的幂
设 $G$ 为一有限群。令 $|G|=n$，对于 $G$ 的每个元素 $a$ 有 $a^{n}=e$ 。

# 计算几何

## 球面几何
设球冠的高为 $h$ ，半径为 $R$ ，则表面积为 $2\pi Rh$ 。

球面三角形的面积为 $(A+B+C-\pi)R^{2}$ 。

球面正弦定理：$\frac{\sin A}{a} = \frac{\sin B}{b} = \frac{\sin C}{c}$

球面余弦定理：$\cos a=\cos b\cos c+\sin b\sin c\cos A$, $\cos A=-\cos B\cos C+\sin B\sin C\cos a$

## 其它
简单多边形中的抛物线长度可以用有向线段来计算

# 其它
## 拉格朗日插值法
对某个多项式函数，已知有给定的 $k+1$ 个取值点： $(x_{0},y_{0}),\cdots,(x_{k},y_{k})$ ，则有 $L(x)=\sum\limits_{j=0}^{k}y_{j}l_{j}(x)$ ，其中每个 $l_{j}(x)$ 为拉格朗日基本多项式，其表达式为 $l_{j}(x)=\prod\limits_{i=0,i\neq j}^{k}\frac{x-x_{i}}{x_{j}-x_{i}}$