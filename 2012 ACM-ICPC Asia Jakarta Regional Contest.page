# Contest Info

date: 2017.08.13 10:30-15:30

[practice link](https://cn.vjudge.net/contest/178640)

# Solutions

## C. Stop Growing!

签到题

## I. Tiling

**题目大意**：给你一个无穷大的网格，再给你三个向量，这些向量的任意线性组合（系数为整数）处有一个点，让你求出满足平移后能够覆盖整个网格且每个恰好含有一个点的图形面积的最小值。

**题解**：设三个向量为 $(x_{1},y_{1}),(x_{2},y_{2}),(x_{3},y_{3})$ 。显然我们把横坐标都除以 $gcd(x_{1},x_{2},x_{3})$ ，纵坐标都除以 $gcd(y_{1},y_{2},y_{3})$ 后，求出答案再乘以 $gcd(x_{1},x_{2},x_{3})\cdot gcd(y_{1},y_{2},y_{3})$ 与原答案是相等的。

设处理后的向量为 $(x'_{1},y'_{1}),(x'_{2},y'_{2}),(x'_{3},y'_{3})$ ，满足 $gcd(x'_{1},x'_{2},x'_{3})=gcd(y'_{1},y'_{2},y'_{3})=1$ 。我们考虑这三个向量在两个坐标轴上能组合出什么。 设 $a=x'_{1}y'_{2}-x'_{2}y'_{1},b=x'_{1}y'_{3}-x'_{3}y'_{1},c=x'_{2}y'_{3}-x'_{3}y'_{2}$ 。不妨考虑 $y$ 轴，它们两两可以组合出的是 $\displaystyle (0,\frac{a}{gcd(x'_{1},x'_{2})}),(0,\frac{b}{gcd(x'_{1},x'_{3})}),(0,\frac{c}{gcd(x'_{2},x'_{3})})$ 的倍数，因此它们三个可以组合出的是 $\displaystyle (0,gcd(\frac{a}{gcd(x'_{1},x'_{2})},\frac{b}{gcd(x'_{1},x'_{3})},\frac{c}{gcd(x'_{2},x'_{3})}))$ 的倍数。

下面证明 $\displaystyle gcd(\frac{a}{gcd(x'_{1},x'_{2})},\frac{b}{gcd(x'_{1},x'_{3})},\frac{c}{gcd(x'_{2},x'_{3})})=gcd(a,b,c)$ 。注意到 $\displaystyle a=\frac{bx'_{2}-cx'_{1}}{x_{3}}$ ，设 $gcd(a,b,c)=u\cdot v$ ，其中 $\displaystyle u=\max_{d|gcd(a,b,c),gcd(d,x'_{1},x'_{2})=1}d$：
 $$
 \because gcd(u,x1,x2)=1, u|a\\
 \therefore u|\frac{a}{gcd(x'_{1},x'_{2})}\\
 \because v|b,v|c\\
 \therefore v|(b\frac{x'_{2}}{gcd(x'_{1},x’_{2})}-c\frac{x'_{2}}{gcd(x'_{1},x’_{2})})\\
 \because gcd(v,x'_{3})=1\\
 \therefore v|\frac{b\frac{x'_{2}}{gcd(x'_{1},x’_{2})}-c\frac{x'_{2}}{gcd(x'_{1},x’_{2})}}{x'_{3}}\\
 即 v|\frac{a}{gcd(x'_{1},x'_{2})}\\
 \because gcd(u,v)=1\\
\therefore gcd(a,b,c)|\frac{a}{gcd(x'_{1},x'_{2})}\\
$$

同理有 $\displaystyle gcd(a,b,c)|\frac{b}{gcd(x'_{1},x'_{3})},gcd(a,b,c)|\frac{c}{gcd(x'_{2},x'_{3})}$ ，故 $\displaystyle gcd(\frac{a}{gcd(x'_{1},x'_{2})},\frac{b}{gcd(x'_{1},x'_{3})},\frac{c}{gcd(x'_{2},x'_{3})})=gcd(a,b,c)$ 。即 $y$ 轴上可以组合出的是  $(0,gcd(a,b,c))$ 的倍数，同理 $x$ 轴上可以组合出的是 $(gcd(a,b,c),0)$  的倍数。我们取 $[0,gcd(a,b,c)-1]^{2}$ 的一个矩形，容易知道这个矩形平移后可以覆盖整个平面。考虑这个矩形内部，根据上面的结论和裴蜀定理易证每一行每一列有且仅有一个点，故所求面积至少是 $\displaystyle \frac{gcd^{2}(a,b,c)}{gcd(a,b,c)}=gcd(a,b,c)$ （否则显然不能铺满整个平面），而这个值可以通过对每个点选取它上方 $1\times gcd(a,b,c)$ 的矩形取到。故答案为
$$
ans=gcd(a,b,c)\cdot gcd(x_{1},x_{2},x_{3})\cdot gcd(y_{1},y_{2},y_{3})\\
记gcd(x_{1},x_{2},x_{3})=x_{0},gcd(y_{1},y_{2},y_{3})=y_{0},有\\
ans=gcd(ax_{0}y_{0},bx_{0}y_{0},cx_{0}y_{0})\\
=gcd(x_{1}y_{2}-x_{2}y_{1},x_{1}y_{3}-x_{3}y_{1},x_{2}y_{3}-x_{3}y_{2})\\
$$

